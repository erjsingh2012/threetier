<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Letter Rack + Board - Drag & Drop</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: #f3f3f3;
  }
  h2 {
    margin-top: 20px;
  }
  .rack-container {
    margin-top: 20px;
    display: flex;
    justify-content: center;
    gap: 10px;
  }
  .letter-tile {
    background: linear-gradient(#f6a623, #d48806);
    width: 50px;
    height: 50px;
    border-radius: 8px;
    box-shadow: 0 3px 5px rgba(0,0,0,0.3);
    font-weight: bold;
    font-size: 28px;
    color: #2d2d2d;
    text-transform: uppercase;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    cursor: grab;
  }
  .letter-tile:active {
    cursor: grabbing;
  }
  .tile-score {
    position: absolute;
    bottom: 4px;
    right: 6px;
    font-size: 12px;
    font-weight: bold;
  }
  .drop-target {
    outline: 2px dashed #aaa;
  }
  /* Board styling */
  .board {
    margin: 40px auto;
    display: grid;
    grid-template-columns: repeat(7, 50px);
    grid-template-rows: repeat(7, 50px);
    gap: 4px;
    justify-content: center;
  }
  .board-cell {
    background: #fff;
    border: 1px solid #ccc;
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.1);
    position: relative;
  }
  .board-cell.highlight {
    background: #e0ffe0;
  }
</style>
</head>
<body>

<h2>90 letters left</h2>

<div class="rack-container" id="rack">
  <div class="letter-tile" draggable="true">E <span class="tile-score">1</span></div>
  <div class="letter-tile" draggable="true">I <span class="tile-score">1</span></div>
  <div class="letter-tile" draggable="true">J <span class="tile-score">10</span></div>
  <div class="letter-tile" draggable="true">B <span class="tile-score">4</span></div>
  <div class="letter-tile" draggable="true">E <span class="tile-score">1</span></div>
  <div class="letter-tile" draggable="true">Y <span class="tile-score">3</span></div>
  <div class="letter-tile" draggable="true">O <span class="tile-score">1</span></div>
</div>

<!-- Dummy Board -->
<div class="board" id="board">
  <!-- 7×7 cells -->
</div>

<script>
  const rack = document.getElementById("rack");
  const board = document.getElementById("board");
  let draggedTile = null;

  // Create 7×7 board cells dynamically
  for (let i = 0; i < 49; i++) {
    const cell = document.createElement("div");
    cell.className = "board-cell";
    cell.setAttribute("draggable", "false");
    board.appendChild(cell);
  }

  // Handle drag start
  document.addEventListener("dragstart", (e) => {
    if (e.target.classList.contains("letter-tile")) {
      draggedTile = e.target;
      e.dataTransfer.effectAllowed = "move";
    }
  });

  // Rack dragover / drop
  rack.addEventListener("dragover", (e) => {
    e.preventDefault();
  });
  rack.addEventListener("drop", (e) => {
    e.preventDefault();
    if (draggedTile) {
      rack.appendChild(draggedTile);
    }
  });

  // Board dragover / drop
  board.addEventListener("dragover", (e) => {
    e.preventDefault();
    const cell = e.target.closest(".board-cell");
    if (cell && (!cell.firstChild || cell.firstChild === draggedTile)) {
      cell.classList.add("highlight");
    }
  });
  board.addEventListener("dragleave", (e) => {
    const cell = e.target.closest(".board-cell");
    if (cell) {
      cell.classList.remove("highlight");
    }
  });
  board.addEventListener("drop", (e) => {
    e.preventDefault();
    const cell = e.target.closest(".board-cell");
    if (cell && (!cell.firstChild || cell.firstChild === draggedTile)) {
      cell.classList.remove("highlight");
      cell.appendChild(draggedTile);
    }
  });

  document.addEventListener("dragend", () => {
    draggedTile = null;
    document.querySelectorAll(".highlight").forEach(c => c.classList.remove("highlight"));
  });
</script>

</body>
</html>
