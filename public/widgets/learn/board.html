<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Board Component with placeTile & placeWord</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      background: #f0f0f0;
      font-family: sans-serif;
    }

    .board {
      display: grid;
      grid-template-columns: repeat(11, 1fr);
      gap: 1px;
      background: #e0e0e0;
      padding: 10px 16px;
      width: 90vw;
      max-width: 500px;
      aspect-ratio: 1 / 1;
      border-radius: 14px;
      user-select: none;
    }

    .tile {
      width: 100%;
      aspect-ratio: 1 / 1;
      font-size: 0.9rem;
      font-weight: bold;
      color: #ffffff;
      background: linear-gradient(to bottom, #e8f4d0, #b5f9f467);
      display: flex;
      justify-content: center;
      align-items: center;
      text-transform: uppercase;
      border-radius: 10px;
      box-shadow: inset 0 1px 2px rgba(255, 255, 255, 0.2),
        0 2px 4px rgba(0, 0, 0, 0.2);
      transition: transform 0.1s ease;
    }

    /* Special tiles */
    .TW {
      background: #f44336;
    }

    .DW {
      background: #ffc107;
      color: #000;
    }

    .TL {
      background: #2196f3;
    }

    .DL {
      background: #9e9e9e;
    }

    /* Placed letter tile style */
    .placed {
      background: #4caf50 !important;
      color: #fff !important;
      box-shadow: 0 0 6px 2px #66bb6a;
      font-weight: bolder;
    }
  </style>
</head>

<body>

  <div id="board-container"></div>

  <script>
    class BoardComponent {
      constructor(containerId) {
        this.container = document.getElementById(containerId);
        if (!this.container) throw new Error('Container not found');

        this.boardData = [
          ['TW', '', '', 'DL', '', '', 'DL', '', '', '', 'TW'],
          ['', 'DW', '', '', '', 'TL', '', '', '', 'DW', ''],
          ['', '', 'DW', '', '', '', '', '', 'DW', '', ''],
          ['DL', '', '', 'DW', '', '', '', 'DW', '', '', 'DL'],
          ['', '', '', '', 'DW', '', 'DW', '', '', '', ''],
          ['', 'TL', '', '', '', 'â˜…', '', '', '', 'TL', ''],
          ['', '', '', '', 'DW', '', 'DW', '', '', '', ''],
          ['DL', '', '', 'DW', '', '', '', 'DW', '', '', 'DL'],
          ['', '', 'DW', '', '', '', '', '', 'DW', '', ''],
          ['', 'DW', '', '', '', 'TL', '', '', '', 'DW', ''],
          ['TW', '', '', 'DL', '', '', 'DL', '', '', '', 'TW']
        ];

        this.tiles = [];
        this.createBoard();
      }

      createBoard() {
        this.container.innerHTML = '';
        this.container.classList.add('board');
        this.tiles = [];

        this.boardData.forEach((row, rowIndex) => {
          this.tiles[rowIndex] = [];
          row.forEach((cell, colIndex) => {
            const tile = document.createElement('div');
            tile.className = 'tile ' + (cell || '');
            tile.textContent = cell || '';
            this.container.appendChild(tile);
            this.tiles[rowIndex][colIndex] = tile;
          });
        });
      }

      placeTile(letter, row, col) {
        if (!this.isValidPosition(row, col)) {
          console.warn(`Invalid position (${row}, ${col})`);
          return false;
        }
        const tile = this.tiles[row][col];
        tile.textContent = letter.toUpperCase();
        tile.className = 'tile placed'; // remove bonus classes, apply placed style
        return true;
      }

      placeWord(word, startRow, startCol, direction = 'horizontal') {
        if (direction !== 'horizontal' && direction !== 'vertical') {
          console.error('Direction must be "horizontal" or "vertical"');
          return false;
        }

        word = word.toUpperCase();

        for (let i = 0; i < word.length; i++) {
          let r = startRow;
          let c = startCol;

          if (direction === 'horizontal') c += i;
          else r += i;

          if (!this.isValidPosition(r, c)) {
            console.warn(`Word placement out of bounds at (${r},${c})`);
            return false;
          }
        }

        // Place letters
        for (let i = 0; i < word.length; i++) {
          let r = startRow;
          let c = startCol;

          if (direction === 'horizontal') c += i;
          else r += i;

          this.placeTile(word[i], r, c);
        }
        return true;
      }

      isValidPosition(row, col) {
        return (
          row >= 0 &&
          row < this.tiles.length &&
          col >= 0 &&
          col < this.tiles[0].length
        );
      }
    }

    // Usage example:
    const board = new BoardComponent('board-container');

    // Place single tile 'A' at (5,5) after 1 second
    setTimeout(() => {
      board.placeTile('A', 5, 5);
    }, 1000);

    // Place word 'HELLO' horizontally at (2,3) after 2 seconds
    setTimeout(() => {
      board.placeWord('HELLO', 2, 3, 'horizontal');
    }, 2000);

    // Place word 'WORLD' vertically at (4,7) after 3 seconds
    setTimeout(() => {
      board.placeWord('WORLD', 4, 7, 'vertical');
    }, 3000);
  </script>
</body>

</html>
